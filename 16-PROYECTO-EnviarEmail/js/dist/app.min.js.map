{"version":3,"sources":["app.js"],"names":["btnEnviar","document","querySelector","formulario","email","asunto","cargarEventListeners","addEventListener","iniciarApp","validarFormulario","mensaje","envia","e","preventDefault","disabled","classList","add","erroes","remove","length","target","regex","test","value","console","log","mostrarError","insertBefore","mensajeError","createElement","textContent","querySelectorAll","parrafo","ressetear","style","display","setTimeout","spinner","reset"],"mappings":"aACA,IAAMA,UAAYC,SAASC,cAAc,WADzCC,WAAAF,SAAAC,cAAA,gBACMF,SAAYC,SAASC,cAAc,aACnCC,MAAAA,4DAKAC,MAAQH,SAASC,cAAc,UAA/BE,OAAQH,SAASC,cAAc,WAC/BG,QAASJ,SAASC,cAAc,YAKtC,SAAUI,uBAENL,SAASM,iBAAiB,mBAAqBC,YAI/CH,MAAOE,iBAAiB,OAASE,mBACjCC,OAAQH,iBAAiB,OAASE,mBAGlCC,QAAAH,iBAAA,OAAAE,mBAIAT,SAAUO,iBAAiB,QAASI,WAApCX,UAAUO,iBAAiB,QAASI,OASpCX,SAAAA,aACIY,QAAEC,IAAAA,cADNb,UAAAc,SAMJd,UAAAe,UAAAC,IAAA,qBAAA,cANIhB,UAAUO,iBAAiB,QAAS,SAACK,GACjCA,EAAEC,mBAMV,SAASJ,kBAAkBG,GAMfK,GAAA,EAAAA,EAAAA,OAAOC,MAAPC,OAAA,CAFJ,IAAMF,EAAShB,SAASC,cAAc,WACzB,OAATe,GAMJA,EAASF,SAMPK,EAAAA,OAAOL,UAAUG,OAAO,SAAW,kBACnCE,EAAAA,OAAOL,UAAcC,IAAA,SAAW,yBAKlCJ,EAAAQ,OAAAL,UAAAG,OAAA,SAAA,oBAEGG,EAAAA,OAAMC,UAAKN,IAASO,SAAO,kBAC1BC,aAAY,sCAIhBZ,GAASG,UAARH,EAACQ,OAAOL,KALT,GAAGM,MAAMC,KAAKV,EAAEQ,OAAOG,OAAO,CAQvBN,QAAMQ,IAAG,gBARhBb,EAAAQ,OAgBKL,UAAAG,OAAA,SAAA,kBACLM,EAAAA,OAAAT,UAAYC,IAAA,SAAZ,oBAEEI,IAAOL,EAAUC,SAAId,cAAW,WACpB,OAAbwB,GACAT,EAAAC,cASJM,QAAAC,IAAA,mBACJb,EAAAQ,OAAAL,UAAAG,OAAA,SAAA,oBAZON,EAAEQ,OAAOL,UAAUC,IAAI,SAAW,kBAcjCU,aAAahB,sBAQdP,MAAAA,KAAWwB,MAAAA,QAA2B1B,KAAd2B,OAAxBL,OAA6D,KAAdrB,UAClDF,UAAAc,UAAA,EAKLd,UAAAe,UAAAG,OAAA,qBAAA,eAEIN,SAAEC,aAAFH,GACAc,IAAQC,EAARxB,SACA4B,cAAA,KAhBAD,EAAaE,YAAYpB,EAiBzBkB,EAAgB3B,UAASC,IAAAA,SAAc,iBAAvC,uBAAA,eAAA,MAAA,SAMgBD,IAHLA,SAAW8B,iBAAA,UAGTZ,QACba,WAAQF,aAAYF,EAApB3B,SAAAC,cAAA,WAYH,SAhBaS,MAAVC,GAuBJA,EAAAC,iBA5BIW,QAAQC,IAAI,YA6BhB,IAASQ,EAAThC,SAAqBC,cAAA,YACjBC,EAAU+B,MAAVC,QAAA,OAEHC,WAAA,WA1BGC,EAAQH,MAAMC,QAAQ,OAEtB,IAAMH,EAAU/B,SAAS4B,cAAc,KACvCG,EAAQF,YAAY,mBACpBE,EAAQjB,UAAUC,IAAI,cAAe,QAAS,MAAO,eAAgB,cAGrEb,WAAWwB,aAAaK,EAAQK,GAEhCD,WAAW,WACPJ,EAAQd,SACRe,aACE,MAGR,KAQF,SAASA,YACL9B,WAAWmC,QACX9B,aAzIJF","file":"app.min.js","sourcesContent":["//Variables \r\nconst btnEnviar = document.querySelector('#enviar');\r\nconst formulario = document.querySelector('#enviar-mail');\r\nconst btnReset = document.querySelector('#resetBtn');\r\nconst regex= /^[-\\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\\.){1,125}[A-Z]{2,63}$/i;\r\n\r\n//Variables para campos \r\nconst email = document.querySelector('#email');\r\nconst asunto = document.querySelector('#asunto');\r\nconst mensaje = document.querySelector('#mensaje');\r\n\r\n\r\ncargarEventListeners();\r\nfunction  cargarEventListeners(){\r\n    //Cuando la app arranca\r\n    document.addEventListener('DOMContentLoaded' , iniciarApp);\r\n\r\n    //Campos del formulario \r\n    email.addEventListener('blur' , validarFormulario);\r\n    asunto.addEventListener('blur' , validarFormulario);\r\n    mensaje.addEventListener('blur' , validarFormulario);\r\n    //recorndamos un blur cuando selccionao y campo y me salgo\r\n\r\n    //reinibia formulario \r\n    btnReset.addEventListener('click',ressetear);\r\n\r\n    //enviar email \r\n    btnEnviar.addEventListener('click', envia);\r\n}\r\n\r\n\r\n//Funciones \r\nfunction iniciarApp (){\r\n    console.log('IniciarApp');\r\n    btnEnviar.disabled;\r\n    btnEnviar.classList.add('cursor-not-allowed' , 'opacity-50');\r\n    btnEnviar.addEventListener('click', (e)=>{\r\n        e.preventDefault();\r\n    });\r\n}\r\n\r\n\r\n// Valida el formulario \r\nfunction validarFormulario(e){\r\n    //console.log('validando');\r\n    if(e.target.value.length>0){\r\n        //Elimina eerroes\r\n        const erroes = document.querySelector('p.error');\r\n        if (erroes!==null){\r\n            erroes.remove();\r\n\r\n        }\r\n        \r\n        //si hay algo\r\n        e.target.classList.remove('border' , 'border-red-500');\r\n        e.target.classList.add('border' , 'border-green-500');\r\n\r\n    }else{\r\n        //e.target.style.borderBottomColor='red';\r\n        //console.log(\"No hay nada\");\r\n        e.target.classList.remove('border' , 'border-green-500');\r\n        e.target.classList.add('border' , 'border-red-500');\r\n        mostrarError('Todos los campos son obligatorios ');\r\n    }\r\n\r\n    if(e.target.type==='email'){\r\n        //const resultado =e.target.value.indexOf('@');\r\n       \r\n        if(regex.test(e.target.value)){\r\n            console.log('Email valido');\r\n            \r\n             //si hay algo\r\n        e.target.classList.remove('border' , 'border-red-500');\r\n        e.target.classList.add('border' , 'border-green-500');\r\n            \r\n            const erroes = document.querySelector('p.error');\r\n            if(erroes!==null){\r\n                erroes.remove();\r\n\r\n            }\r\n\r\n        \r\n       \r\n            \r\n        }else{\r\n        console.log('Email no valido');\r\n        e.target.classList.remove('border' , 'border-green-500');\r\n        e.target.classList.add('border' , 'border-red-500');\r\n         mostrarError('Email no es valido');\r\n        }\r\n\r\n    }\r\n\r\n    //porque e.target.value hace referenci al campo atctaual\r\n    //miestra quue esta hace referencias  hace referencia al email , asusntp\r\n    if(regex.test(email.value) && asunto.value!==\"\" && mensaje!==\"\" ){\r\n        btnEnviar.disabled=false;\r\n        btnEnviar.classList.remove('cursor-not-allowed' , 'opacity-50');\r\n    }\r\n}\r\n\r\nfunction mostrarError(mensaje){\r\n    const mensajeError = document.createElement('p');\r\n    mensajeError.textContent=mensaje;\r\n    mensajeError.classList.add('border', 'border-red-500','background-color-100', 'text-red-500', 'p-3', 'error');\r\n\r\n    const errores=  document.querySelectorAll('.error');\r\n    //querySlector alll podemos usar lenght \r\n    if (errores.length===0){\r\n        formulario.insertBefore(mensajeError, document.querySelector('.mb-10'));\r\n    }\r\n\r\n    \r\n}\r\n\r\n//Enviar email \r\nfunction envia(e){\r\n    e.preventDefault();\r\n    console.log(\"holaaaaa\");\r\n    //MOstarar el spne \r\n    const spinner = document.querySelector('#spinner');\r\n    spinner.style.display='flex';\r\n\r\n    setTimeout(function (){\r\n    spinner.style.display='none';\r\n\r\n    const parrafo = document.createElement('p');\r\n    parrafo.textContent='Mensaje envidado';\r\n    parrafo.classList.add('text-center', 'my-10', 'p-2', 'bg-green-500', 'text-white')\r\n    \r\n    \r\n    formulario.insertBefore(parrafo,spinner);\r\n    \r\n    setTimeout(function (){\r\n        parrafo.remove();\r\n        ressetear();\r\n        },3000);\r\n    \r\n\r\n},3000);\r\n    \r\n\r\n    \r\n}\r\n\r\n\r\n//reseta formulario \r\nfunction ressetear (){\r\n    formulario.reset();\r\n    iniciarApp();\r\n}"]}